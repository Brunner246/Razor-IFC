services:
  - type: web
    name: ifc-file-splitter
    runtime: python
    buildCommand: pip install .
    startCommand: python main.py serve --host 0.0.0.0 --port $PORT
    envVars:
      - key: PYTHON_VERSION
        value: 3.14.2
      - key: MAX_WORKERS
        value: 1  # Single worker for memory-constrained environments
      - key: JOB_TIMEOUT_SECONDS
        value: 300  # 5 minutes timeout per job
      # - key: ALLOWED_ORIGINS
      #   value:
    # Persistent disk for job data and uploads
    disk:
      name: ifc-data
      mountPath: /data
      sizeGB: 1

